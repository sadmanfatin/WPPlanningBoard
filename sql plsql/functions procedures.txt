CREATE OR REPLACE PROCEDURE APPS.WP_UPDATE__LOAD_ROW_ENTRY(P_MONTH_ID IN NUMBER)
AS 

CURSOR C1 IS  SELECT SI.WP_SECTION_ID  FROM WP_SECTION_INFO SI
WHERE 1=1
AND SI.ORG_ID  = (  SELECT  ML.ORG_ID FROM WP_MONTH_LIST ML WHERE ML.MONTH_ID = P_MONTH_ID)
AND NOT EXISTS ( SELECT PBL.WP_SECTION_ID 
                     FROM WP_PLANNING_BOARD_LOAD  PBL
                     WHERE  1=1
                     AND  PBL.WP_SECTION_ID = SI.WP_SECTION_ID
                     AND   PBL.MONTH_ID  = P_MONTH_ID                   
                 
                 );

BEGIN


FOR CC1 IN C1 

      LOOP

            INSERT INTO WP_PLANNING_BOARD_LOAD (PLANNING_BOARD_LOAD_ID , MONTH_ID , WP_SECTION_ID) VALUES (APPS.WP_PLANNING_BOARD_SEQ.NEXTVAL, P_MONTH_ID, CC1.WP_SECTION_ID);
            
   END LOOP;
   
   
   
   COMMIT;
   
   EXCEPTION WHEN OTHERS THEN RAISE;
   
  

 
   
END;
